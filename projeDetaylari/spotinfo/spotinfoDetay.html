<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spotinfo</title>
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/vs2015.min.css"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>
<body>
  <header>
    <img src="spotinfoResimler/EnziSonsuzlukGiris.png" alt="Spotinfo Logo" width="150" height="150" />
  </header>

  <section id="aciklama">
    <h3>Spotinfo</h3>
    <p>
      Bu proje, Ã¼niversitedeki uygulamalÄ± bir ders kapsamÄ±nda geliÅŸtirdiÄŸim bir sosyal medya prototipidir. 
      Spotify API kullanarak ÅŸarkÄ± bilgilerini gerÃ§ek zamanlÄ± Ã§eker ve kullanÄ±cÄ±larÄ±n bu ÅŸarkÄ±lar hakkÄ±nda 
      yorum yapmasÄ±nÄ±, beÄŸenmesini ve sohbet etmesini saÄŸlar. AmaÃ§, hem mÃ¼zik iÃ§erikleriyle etkileÅŸim kurulan 
      bir ortam oluÅŸturmak hem de API kullanÄ±mÄ±, arayÃ¼z tasarÄ±mÄ± ve veri yÃ¶netimi gibi konularda pratik yapmaktÄ±.
      GeliÅŸtirme sÃ¼recinde hem frontend hem de backend alanlarÄ±nÄ± tek baÅŸÄ±ma Ã¼stlendim.
    </p>
  </section>

  <div id="anaMenu">
    <h3>ğŸ–¥ï¸ ArayÃ¼zden GÃ¶rÃ¼ntÃ¼ler</h3>
    <div id="anaMenuResim">
      <img src="/Portfolio/projeDetaylari/spotinfo/spotinfoResimler/AnaMenu.png" alt="Ana Menu" width="915" />
      <img src="/Portfolio/projeDetaylari/spotinfo/spotinfoResimler/sifreDegistir.png" alt="Åifre DeÄŸiÅŸtirme EkranÄ±" width="915" />
    </div>
  </div>

  <!-- Kod BÃ¶lÃ¼mleri -->

  <section id="kod">
    <h4>ğŸ§ HTTP Ä°stemcisi ve API Ã‡aÄŸrÄ±sÄ±</h4>
    <pre><code class="language-csharp">
        using (var istemci = new HttpClient())
        {   
            // Bearer token ile Authorization ekliyoruz
            istemci.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue("Bearer", erisimToken);


            string url = $"https://api.spotify.com/v1/search?q=year:2000&type=track&limit=50";

            ...
        }
    </code></pre>
  </section>

  <section id="kod">
    <h4>ğŸ“¡ API'den Veri Ã‡ekme ve Parse Etme</h4>
    <pre><code class="language-csharp">
        ... 

        string url = $"https://api.spotify.com/v1/search?q=year:2000&type=track&limit=50";

        while (!string.IsNullOrEmpty(url))
        {
            var yanit = await istemci.GetAsync(url);
        
            if (yanit.IsSuccessStatusCode)
            {
                // YanÄ±tÄ± alÄ±yoruz
                var json = await yanit.Content.ReadAsStringAsync();
            
                // ÅarkÄ± bilgilerini JSON'dan Ã§ekiyoruz
                var parcalar = JObject.Parse(json)["tracks"]["items"];

                ...
            }

            ...
        }
    </code></pre>
  </section>

  <section id="kod">
    <h4>ğŸ¼ ÅarkÄ± Bilgilerini AyÄ±klama</h4>
    <pre><code class="language-csharp">
        foreach (var parca in parcalar)
        {
            // ÅarkÄ± bilgilerini alÄ±yoruz
            sarkiId = parca["id"].ToString();
            string sarki = parca["name"].ToString();
            string sanatci = parca["artists"][0]["name"].ToString();
            string album = parca["album"]["name"].ToString();
            string populerlik = parca["popularity"].ToString();
            string sarkiID = parca["id"].ToString();
            string sanatciId = parca["artists"][0]["id"].ToString();
            string albumKapagiUrl = parca["album"]["images"][0]["url"].ToString();
            string cikisTarihi = parca["album"]["release_date"].ToString();
            string cikisYili = cikisTarihi.Split('-')[0];

            ...
        }
        // EÄŸer sonraki sayfa varsa, 'next' URL'sini al
        url = JObject.Parse(json)["tracks"]["next"]?.ToString();
    </code></pre>
  </section>

  <section id="kod">
    <h4>â¡ï¸ Hata YÃ¶netimi</h4>
    <pre><code class="language-csharp">
        else
        {
            // Hata mesajÄ±
            MessageBox.Show("API YanÄ±tÄ±: " + yanit.StatusCode.ToString());
            MessageBox.Show("ÅarkÄ±lar yÃ¼klenemedi.");
            break;
        }
    </code></pre>
  </section>
</body>
</html>
